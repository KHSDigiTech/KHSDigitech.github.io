<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 5: Simple Platformer</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background-color: #f5f5f5;
        }
        
        .header {
            background: linear-gradient(135deg, #00d2d3 0%, #54a0ff 100%);
            color: white;
            padding: 2rem;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 2rem;
        }

        .content-section {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .node-info {
            background: #e3f2fd;
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid #2196f3;
            margin: 1rem 0;
        }

        .ai-prompt {
            background: #f3e5f5;
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid #9c27b0;
            margin: 1rem 0;
        }

        .step-by-step {
            background: #fff3cd;
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
            margin: 1rem 0;
        }

        .checklist {
            background: #d4edda;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .checklist ul {
            list-style-type: none;
            padding-left: 0;
        }

        .checklist li {
            padding: 0.5rem 0;
            position: relative;
            padding-left: 2rem;
        }

        .checklist li::before {
            content: '‚òê';
            position: absolute;
            left: 0;
            font-size: 1.2rem;
            color: #28a745;
        }

        .gravity-info {
            background: #ffe0e6;
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid #ff6b9d;
            margin: 1rem 0;
        }

        .controls-box {
            background: #e8f5e8;
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid #4caf50;
            margin: 1rem 0;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 1rem;
            color: #667eea;
            text-decoration: none;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        .next-module {
            text-align: center;
            margin-top: 2rem;
        }

        .next-link {
            display: inline-block;
            background: #28a745;
            color: white;
            padding: 1rem 2rem;
            text-decoration: none;
            border-radius: 5px;
            font-size: 1.1rem;
        }

        .next-link:hover {
            background: #218838;
        }

        code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body>
    <a href="year10-game-dev.html" class="back-link">‚Üê Back to Course Overview</a>

    <div class="header">
        <h1>Module 5: Simple Platformer</h1>
        <p>TileMap, StaticBody2D & Gravity Mechanics</p>
    </div>

    <div class="content-section">
        <h2>üéØ Learning Objectives</h2>
        <ul>
            <li>Create platforms and walls using TileMap</li>
            <li>Implement jumping mechanics with gravity</li>
            <li>Use StaticBody2D for solid platforms</li>
            <li>Build a simple level with collectibles</li>
            <li>Understand platformer physics fundamentals</li>
        </ul>
    </div>

    <div class="content-section">
        <h2>üéÆ The Game: Platform Jumper</h2>
        <p>Create a classic platformer where your character can run, jump, and collect items while avoiding falling off platforms!</p>
        
        <div class="node-info">
            <h3>üîß Essential Nodes</h3>
            <ul>
                <li><strong>TileMap:</strong> Creates repeating platform tiles efficiently</li>
                <li><strong>StaticBody2D:</strong> Individual platform pieces that don't move</li>
                <li><strong>CharacterBody2D:</strong> Your jumping player character</li>
                <li><strong>CollisionShape2D:</strong> For platform collision boundaries</li>
            </ul>
        </div>

        <div class="controls-box">
            <h3>üéπ Platformer Controls</h3>
            <ul>
                <li><strong>A/D or Left/Right</strong>: Move left and right</li>
                <li><strong>Space or W or Up</strong>: Jump</li>
                <li><strong>Multiple jumps allowed</strong> (when on ground)</li>
            </ul>
        </div>

        <div class="gravity-info">
            <h3>üåç Understanding Platformer Physics</h3>
            <ul>
                <li><strong>Gravity:</strong> Constant downward force pulling the player</li>
                <li><strong>Jump Velocity:</strong> Initial upward speed when jumping</li>
                <li><strong>Terminal Velocity:</strong> Maximum falling speed</li>
                <li><strong>Ground Detection:</strong> Knowing when you can jump again</li>
            </ul>
        </div>
    </div>

    <div class="content-section">
        <h2>üèóÔ∏è Building Your Platformer</h2>
        
        <div class="step-by-step">
            <h3>Step 1: Create the PlatformController Scene</h3>
            
            <div class="node-info">
                <h4>üå≥ PlatformController Structure</h4>
                <pre style="background: #2d3748; color: #e2e8f0; padding: 1rem; border-radius: 4px; font-family: monospace;">
PlatformController (CharacterBody2D) üéÆ
‚îú‚îÄ‚îÄ PlayerSprite (Sprite2D) üé®
‚îú‚îÄ‚îÄ PlayerCollision (CollisionShape2D) ‚ö°
‚îî‚îÄ‚îÄ PlayerCamera (Camera2D) üìπ
                </pre>
                <p><strong>Purpose:</strong> Dedicated controller for platformer movement with gravity and jumping</p>
            </div>
            
            <ol>
                <li><strong>New Scene:</strong> Scene ‚Üí New Scene ‚Üí 2D Scene</li>
                <li><strong>Change Root:</strong> Delete Node2D ‚Üí Add CharacterBody2D ‚Üí Rename to "PlatformController"</li>
                <li><strong>Add Sprite:</strong> Right-click PlatformController ‚Üí Add Child ‚Üí Sprite2D ‚Üí Rename to "PlayerSprite"</li>
                <li><strong>Set Texture:</strong> Select PlayerSprite ‚Üí Drag player image to "Texture" property</li>
                <li><strong>Add Collision:</strong> Right-click PlatformController ‚Üí Add Child ‚Üí CollisionShape2D ‚Üí Rename to "PlayerCollision"</li>
                <li><strong>Set Shape:</strong> Select PlayerCollision ‚Üí Inspector ‚Üí Shape ‚Üí New RectangleShape2D</li>
                <li><strong>Size Collision:</strong> Drag the blue rectangle to match the sprite size</li>
                <li><strong>Add Camera:</strong> Right-click PlatformController ‚Üí Add Child ‚Üí Camera2D ‚Üí Rename to "PlayerCamera"</li>
                <li><strong>Enable Camera:</strong> Select PlayerCamera ‚Üí Inspector ‚Üí Check "Enabled" checkbox</li>
                <li><strong>üíæ Save Controller:</strong> Ctrl+S ‚Üí Name it "PlatformController.tscn"</li>
            </ol>
        </div>
        
        <div class="step-by-step">
            <h3>Step 2: Main Platformer Scene Setup</h3>
            <ol>
                <li><strong>New Game Scene:</strong> Scene ‚Üí New Scene ‚Üí 2D Scene</li>
                <li><strong>Rename Root:</strong> Select Node2D ‚Üí rename to "PlatformerGame"</li>
                <li><strong>üíæ Save immediately:</strong> Ctrl+S ‚Üí Name it "Platformer.tscn"</li>
                <li><strong>Instance Controller:</strong> Right-click PlatformerGame ‚Üí Instance Child Scene ‚Üí Select "PlatformController.tscn"</li>
                <li><strong>Position Player:</strong> Drag player to starting position (above where platforms will be)</li>
                <li><strong>üíæ Save again:</strong> Your platformer base is ready!</li>
            </ol>
            
            <div class="node-info">
                <p><strong>üéØ Why Separate Scenes:</strong> PlatformController.tscn can be reused in multiple levels and is specifically designed for platformer physics, different from the basic PlayerCharacter used in earlier modules.</p>
            </div>
        </div>

        <div class="step-by-step">
            <h3>Step 3: Create Platforms Using TileMap</h3>
            <ol>
                <li>Add <code>TileMap</code> node to root</li>
                <li>In Inspector, create new <code>TileSet</code> resource</li>
                <li>In TileSet, add your platform/ground sprites</li>
                <li>Set up collision shapes for each tile</li>
                <li>Paint your level layout in the editor</li>
            </ol>
        </div>

        <div class="step-by-step">
            <h3>Step 4: Alternative - Individual Platforms</h3>
            <p><em>If TileMap is too complex, use this simpler method:</em></p>
            <ol>
                <li>Add <code>StaticBody2D</code> nodes for each platform</li>
                <li>Add <code>Sprite2D</code> child with platform texture</li>
                <li>Add <code>CollisionShape2D</code> child with RectangleShape2D</li>
                <li>Position platforms throughout your level</li>
            </ol>
        </div>
    </div>

    <div class="content-section">
        <h2>ü§ñ AI-Assisted Platformer Physics</h2>
        
        <div class="ai-prompt">
            <h3>Perfect AI Prompt Setup</h3>
            
            <div class="step-by-step">
                <h4>üì∏ Step 1: Take a Screenshot</h4>
                <ol>
                    <li><strong>Show PlatformController Scene:</strong> Open PlatformController.tscn and expand all nodes</li>
                    <li><strong>Screenshot Structure:</strong> Capture the scene tree showing CharacterBody2D with children</li>
                    <li><strong>Include Script Tab:</strong> Show that the PlatformController needs a script attached</li>
                </ol>
            </div>
            
            <div class="step-by-step">
                <h4>üí¨ Step 2: Use This Prompt</h4>
                <blockquote style="background: #f8f9fa; padding: 1rem; border-left: 3px solid #6c757d; font-style: italic;">
                    "I'm making a platformer game in Godot 4. Here's a screenshot of my PlatformController scene. I want the character to run left and right with A/D keys, jump with Space (only when on ground), and fall down with gravity when not on a platform. Can you write the script for this CharacterBody2D? I want realistic platformer physics where the character lands on platforms and can't jump while falling."
                </blockquote>
            </div>
            
            <div class="node-info">
                <h4>üéØ What This Will Create</h4>
                <ul>
                    <li><strong>Gravity System:</strong> Constant downward force</li>
                    <li><strong>Jump Mechanics:</strong> Only when touching ground</li>
                    <li><strong>Horizontal Movement:</strong> Left/right with key input</li>
                    <li><strong>Ground Detection:</strong> Using CharacterBody2D.is_on_floor()</li>
                </ul>
            </div>
        </div>

        <div class="ai-prompt">
            <h3>Follow-up Enhancement Prompts</h3>
            <p><strong>üì∏ Remember:</strong> Include a screenshot of your working PlatformController for these features!</p>
            <ul>
                <li><strong>Coyote Time:</strong> "My platformer works [screenshot]. How do I give players a tiny bit of time to jump even after walking off a platform?"</li>
                <li><strong>Variable Jump Height:</strong> "Here's my controller [screenshot]. Can you make it so holding Space longer makes the character jump higher?"</li>
                <li><strong>Sprite Flipping:</strong> "My movement works [screenshot]. How do I make the character sprite flip to face the direction they're moving?"</li>
                <li><strong>Terminal Velocity:</strong> "Here's my platformer [screenshot]. How do I make sure the character doesn't fall too fast and feel uncontrollable?"</li>
                <li><strong>Better Landing:</strong> "My jumping works [screenshot]. Can you add a small 'squash' animation when the character lands?"</li>
            </ul>
        </div>
    </div>

    <div class="content-section">
        <h2>üìê TileMap Setup Guide</h2>
        <div class="step-by-step">
            <h3>Setting Up Your First TileSet</h3>
            <ol>
                <li><strong>Create TileSet:</strong> In TileMap Inspector ‚Üí TileSet ‚Üí New TileSet</li>
                <li><strong>Add Source:</strong> Click TileSet resource ‚Üí Add Texture2D source</li>
                <li><strong>Select Texture:</strong> Choose your platform sprite from assets</li>
                <li><strong>Setup Physics:</strong> Select your tile ‚Üí Physics ‚Üí Create collision shape</li>
                <li><strong>Paint Level:</strong> Use TileMap tools to draw your platforms</li>
            </ol>
        </div>

        <div class="ai-prompt">
            <h3>AI Help for TileMap Issues</h3>
            <blockquote style="background: #f8f9fa; padding: 1rem; border-left: 3px solid #6c757d; font-style: italic;">
                "My PlatformController falls through my TileMap platforms [screenshot]. Can you help me set up collision for the TileSet? I need to know how to add physics layers and collision shapes step by step."
            </blockquote>
        </div>
    </div>

    <div class="content-section">
        <h2>üé® Level Design Ideas</h2>
        <h3>Make Your Platformer Unique!</h3>
        <ul>
            <li><strong>Floating Platforms:</strong> Platforms at different heights</li>
            <li><strong>Collectible Stars:</strong> Area2D items scattered around level</li>
            <li><strong>Moving Platforms:</strong> AnimationPlayer to move platforms</li>
            <li><strong>Jump Pads:</strong> Special tiles that boost jump height</li>
            <li><strong>One-Way Platforms:</strong> Can jump up through, but not fall down</li>
            <li><strong>Background Layers:</strong> Parallax backgrounds for depth</li>
        </ul>
    </div>

    <div class="content-section">
        <h2>‚ö° Advanced Features</h2>
        <h3>For Fast Finishers</h3>
        
        <div class="ai-prompt">
            <h3>AI Prompt for Camera Following</h3>
            <blockquote style="background: #f8f9fa; padding: 1rem; border-left: 3px solid #6c757d; font-style: italic;">
                "My PlatformController has a Camera2D but it feels too jerky [screenshot]. How do I make the camera follow my player more smoothly? I want some lag so it doesn't snap around when the player changes direction."
            </blockquote>
        </div>

        <div class="step-by-step">
            <h3>Add Collectibles</h3>
            <ol>
                <li>Create <code>Area2D</code> nodes for coins/stars</li>
                <li>Use skills from Module 4 for collision detection</li>
                <li>Place collectibles in hard-to-reach places</li>
                <li>Add a UI counter for collected items</li>
            </ol>
        </div>
    </div>

    <div class="content-section">
        <h2>üêõ Common Problems & Solutions</h2>
        <ul>
            <li><strong>Player falls through platforms:</strong> Check TileMap collision setup</li>
            <li><strong>Can't jump:</strong> Verify is_on_floor() is working correctly</li>
            <li><strong>Infinite jumping:</strong> Make sure jump only works when grounded</li>
            <li><strong>Too floaty/heavy:</strong> Adjust gravity and jump_velocity values</li>
            <li><strong>Choppy movement:</strong> Use delta time in movement calculations</li>
            <li><strong>Camera issues:</strong> Ensure Camera2D is set to "Current"</li>
        </ul>
    </div>

    <div class="content-section">
        <h2>‚úÖ Module 5 Checklist</h2>
        <div class="checklist">
            <h3>Before Moving to Module 6:</h3>
            <ul>
                <li>Player can run left and right smoothly</li>
                <li>Jumping works and player lands on platforms</li>
                <li>Gravity pulls player downward constantly</li>
                <li>Can only jump when touching the ground</li>
                <li>Platforms are solid (TileMap or StaticBody2D)</li>
                <li>Camera follows the player</li>
                <li>At least 3-5 platforms at different heights</li>
                <li>No major physics glitches or bugs</li>
                <li>Saved scene as "Platformer.tscn"</li>
            </ul>
        </div>
    </div>

    <div class="content-section">
        <h2>üß† Key Concepts Learned</h2>
        <ul>
            <li><strong>TileMap:</strong> Efficient way to create repeating level geometry</li>
            <li><strong>Gravity Physics:</strong> Constant downward acceleration</li>
            <li><strong>Ground Detection:</strong> Using is_on_floor() for jump logic</li>
            <li><strong>Camera Following:</strong> Making the view follow the player</li>
            <li><strong>Level Design:</strong> Arranging platforms for fun gameplay</li>
        </ul>
    </div>

    <div class="next-module">
        <a href="module6.html" class="next-link">Continue to Module 6: Top-Down Explorer ‚Üí</a>
    </div>
</body>
</html>