<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 4: Collision Detective</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background-color: #f5f5f5;
        }
        
        .header {
            background: linear-gradient(135deg, #5f27cd 0%, #341f97 100%);
            color: white;
            padding: 2rem;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 2rem;
        }

        .content-section {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .node-info {
            background: #e3f2fd;
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid #2196f3;
            margin: 1rem 0;
        }

        .ai-prompt {
            background: #f3e5f5;
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid #9c27b0;
            margin: 1rem 0;
        }

        .step-by-step {
            background: #fff3cd;
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
            margin: 1rem 0;
        }

        .checklist {
            background: #d4edda;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .checklist ul {
            list-style-type: none;
            padding-left: 0;
        }

        .checklist li {
            padding: 0.5rem 0;
            position: relative;
            padding-left: 2rem;
        }

        .checklist li::before {
            content: '‚òê';
            position: absolute;
            left: 0;
            font-size: 1.2rem;
            color: #28a745;
        }

        .physics-info {
            background: #fff0f5;
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid #ff6b9d;
            margin: 1rem 0;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 1rem;
            color: #667eea;
            text-decoration: none;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        .next-module {
            text-align: center;
            margin-top: 2rem;
        }

        .next-link {
            display: inline-block;
            background: #28a745;
            color: white;
            padding: 1rem 2rem;
            text-decoration: none;
            border-radius: 5px;
            font-size: 1.1rem;
        }

        .next-link:hover {
            background: #218838;
        }

        code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body>
    <a href="../year10-game-dev.html" class="back-link">‚Üê Back to Course Overview</a>

    <div class="header">
        <h1>Module 4: Collision Detective</h1>
        <p>Area2D, RigidBody2D & Physics Interactions</p>
    </div>

    <div class="content-section">
        <h2>üéØ Learning Objectives</h2>
        <ul>
            <li>Detect when objects collide using Area2D</li>
            <li>Create physics objects with RigidBody2D</li>
            <li>Handle collision signals and events</li>
            <li>Build a simple collection/detection game</li>
            <li>Understand different collision detection methods</li>
        </ul>
    </div>

    <div class="content-section">
        <h2>üéÆ The Game: Coin Collector</h2>
        <p>Create a game where your character walks around collecting coins. When the player touches a coin, it disappears and increases their score!</p>
        
        <div class="node-info">
            <h3>üîß Main Nodes You'll Use</h3>
            <ul>
                <li><strong>Area2D:</strong> Detects when something enters its area (perfect for collectibles)</li>
                <li><strong>RigidBody2D:</strong> Physics objects that can fall and bounce</li>
                <li><strong>CharacterBody2D:</strong> Your player from Module 3</li>
                <li><strong>CollisionShape2D:</strong> Defines collision boundaries</li>
            </ul>
        </div>

        <div class="physics-info">
            <h3>üî¨ Physics Node Differences</h3>
            <ul>
                <li><strong>StaticBody2D:</strong> Never moves (walls, floors)</li>
                <li><strong>CharacterBody2D:</strong> Player-controlled movement</li>
                <li><strong>RigidBody2D:</strong> Physics-controlled (falls, bounces)</li>
                <li><strong>Area2D:</strong> Detects overlaps, no physics collision</li>
            </ul>
        </div>
    </div>

    <div class="content-section">
        <h2>üèóÔ∏è Building Your Collision Game</h2>
        
        <div class="step-by-step">
            <h3>Step 1: Scene Setup</h3>
            <ol>
                <li>Create a new scene with <code>Node2D</code> as root (rename to "CollisionGame")</li>
                <li>Add your player from Module 3 (or create a simple CharacterBody2D)</li>
                <li>Create a <code>Control</code> node for UI (score label)</li>
                <li>Add a <code>Label</code> child to show the score</li>
            </ol>
        </div>

        <div class="step-by-step">
            <h3>Step 2: Create a Collectible Coin</h3>
            <ol>
                <li>Add <code>Area2D</code> node (rename to "Coin")</li>
                <li>Add <code>Sprite2D</code> child with coin texture</li>
                <li>Add <code>CollisionShape2D</code> child with CircleShape2D</li>
                <li>Size the collision shape to match the sprite</li>
            </ol>
        </div>

        <div class="step-by-step">
            <h3>Step 3: Add Script to Main Scene</h3>
            <ol>
                <li>Select your main scene root node ("CollisionGame")</li>
                <li>Click "Attach Script" button and create the script</li>
                <li>This script will control the game logic</li>
            </ol>
        </div>

        <div class="step-by-step">
            <h3>Step 4: Connect the Collision Signal</h3>
            <ol>
                <li>Select the Coin (Area2D) node</li>
                <li>Go to "Node" tab (next to Inspector)</li>
                <li>Find <code>body_entered(body)</code> signal</li>
                <li>Connect it to your main scene root node</li>
                <li>This creates <code>_on_coin_body_entered(body)</code> function</li>
            </ol>
        </div>
    </div>

    <div class="content-section">
        <h2>ü§ñ AI-Assisted Collision Coding</h2>
        
        <div class="ai-prompt">
            <h3>Perfect Prompt for Collision Detection</h3>
            <blockquote style="background: #f8f9fa; padding: 1rem; border-left: 3px solid #6c757d; font-style: italic;">
                "I'm making a coin collection game in Godot 4. When my player character walks into a coin, I want the coin to disappear and add 1 point to the score. The score should be displayed on screen and update immediately. I also want to make sure only the player can collect coins, not other objects. Can you show me the complete code including how to store the score, detect when something touches the coin, check if it's the player, update the score display, and remove the coin?"
            </blockquote>
        </div>

        <div class="ai-prompt">
            <h3>Additional Features to Ask For</h3>
            <ul>
                <li>"How do I create multiple coins and place them randomly around the screen?"</li>
                <li>"Can you add a visual effect like sparkles when a coin is collected?"</li>
                <li>"How do I make some coins worth more points than others?"</li>
                <li>"What's the best way to completely remove objects from the game when they're no longer needed?"</li>
            </ul>
        </div>
    </div>

    <div class="content-section">
        <h2>üé® Enhancement Ideas</h2>
        <h3>Level Up Your Game!</h3>
        <ul>
            <li><strong>Multiple Coins:</strong> Duplicate coins around the scene</li>
            <li><strong>Falling Objects:</strong> Use RigidBody2D for coins that fall from the sky</li>
            <li><strong>Sound Effects:</strong> Play a sound when collecting coins</li>
            <li><strong>Power-ups:</strong> Special items that give bonus points</li>
            <li><strong>Timer Challenge:</strong> Collect coins before time runs out</li>
            <li><strong>Obstacles:</strong> StaticBody2D walls the player must navigate around</li>
        </ul>

        <div class="ai-prompt">
            <h3>AI Prompt for Falling Coins</h3>
            <blockquote style="background: #f8f9fa; padding: 1rem; border-left: 3px solid #6c757d; font-style: italic;">
                "I want to create falling coins using RigidBody2D in Godot 4. Can you show me how to set up a RigidBody2D coin with proper collision detection that falls from the top of the screen due to gravity? I want them to disappear when the player touches them."
            </blockquote>
        </div>
    </div>

    <div class="content-section">
        <h2>‚ö° Advanced Challenge: Enemy Collision</h2>
        <p>For students who finish early, try adding enemies!</p>
        
        <div class="step-by-step">
            <h3>Enemy Setup</h3>
            <ol>
                <li>Create an <code>Area2D</code> enemy with sprite and collision</li>
                <li>Connect the <code>body_entered</code> signal</li>
                <li>When player touches enemy, subtract points or reset score</li>
                <li>Use different sprites to distinguish enemies from coins</li>
            </ol>
        </div>
    </div>

    <div class="content-section">
        <h2>üêõ Common Problems & Solutions</h2>
        <ul>
            <li><strong>Collisions not detecting:</strong> Check collision layers and masks</li>
            <li><strong>Multiple triggering:</strong> Use <code>body_exited</code> signal if needed</li>
            <li><strong>Wrong object detected:</strong> Check <code>if body.name == "Player"</code></li>
            <li><strong>Coin won't disappear:</strong> Use <code>queue_free()</code> not <code>hide()</code></li>
            <li><strong>Score not updating:</strong> Make sure Label reference is correct</li>
        </ul>
    </div>

    <div class="content-section">
        <h2>‚úÖ Module 4 Checklist</h2>
        <div class="checklist">
            <h3>Before Moving to Module 5:</h3>
            <ul>
                <li>Player can collect coins by walking into them</li>
                <li>Coins disappear when collected</li>
                <li>Score increases and displays correctly</li>
                <li>Used Area2D for collision detection</li>
                <li>Successfully connected and used signals</li>
                <li>No errors in the console</li>
                <li>Multiple coins can be collected</li>
                <li>Saved scene as "CollisionGame.tscn"</li>
            </ul>
        </div>
    </div>

    <div class="content-section">
        <h2>üß† Key Concepts Learned</h2>
        <ul>
            <li><strong>Area2D:</strong> Best for trigger/detection zones</li>
            <li><strong>Signal System:</strong> How objects communicate events</li>
            <li><strong>Collision Detection:</strong> Different methods for different purposes</li>
            <li><strong>Physics Bodies:</strong> When to use each type of physics node</li>
            <li><strong>Node Removal:</strong> Properly removing objects from scenes</li>
        </ul>
    </div>

    <div class="next-module">
        <a href="module5.html" class="next-link">Continue to Module 5: Simple Platformer ‚Üí</a>
    </div>
</body>
</html>