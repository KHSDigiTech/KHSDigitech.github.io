<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 3: Character Movement</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background-color: #f5f5f5;
        }
        
        .header {
            background: linear-gradient(135deg, #54a0ff 0%, #2e86de 100%);
            color: white;
            padding: 2rem;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 2rem;
        }

        .content-section {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .node-info {
            background: #e3f2fd;
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid #2196f3;
            margin: 1rem 0;
        }

        .ai-prompt {
            background: #f3e5f5;
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid #9c27b0;
            margin: 1rem 0;
        }

        .step-by-step {
            background: #fff3cd;
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
            margin: 1rem 0;
        }

        .checklist {
            background: #d4edda;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .checklist ul {
            list-style-type: none;
            padding-left: 0;
        }

        .checklist li {
            padding: 0.5rem 0;
            position: relative;
            padding-left: 2rem;
        }

        .checklist li::before {
            content: '‚òê';
            position: absolute;
            left: 0;
            font-size: 1.2rem;
            color: #28a745;
        }

        .controls-box {
            background: #e8f5e8;
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid #4caf50;
            margin: 1rem 0;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 1rem;
            color: #667eea;
            text-decoration: none;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        .next-module {
            text-align: center;
            margin-top: 2rem;
        }

        .next-link {
            display: inline-block;
            background: #28a745;
            color: white;
            padding: 1rem 2rem;
            text-decoration: none;
            border-radius: 5px;
            font-size: 1.1rem;
        }

        .next-link:hover {
            background: #218838;
        }

        code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body>
    <a href="../year10-game-dev.html" class="back-link">‚Üê Back to Course Overview</a>

    <div class="header">
        <h1>Module 3: Character Movement</h1>
        <p>CharacterBody2D, Sprite2D & Input Handling</p>
    </div>

    <div class="content-section">
        <h2>üéØ Learning Objectives</h2>
        <ul>
            <li>Create a moveable character using CharacterBody2D</li>
            <li>Display character graphics with Sprite2D</li>
            <li>Handle keyboard input for movement</li>
            <li>Understand Godot's physics system basics</li>
            <li>Use collision shapes for character boundaries</li>
        </ul>
    </div>

    <div class="content-section">
        <h2>üéÆ The Game: Walking Character</h2>
        <p>Create a simple character that can move around the screen using arrow keys or WASD. This is the foundation for almost every game!</p>
        
        <div class="node-info">
            <h3>üîß Nodes You'll Use</h3>
            <ul>
                <li><strong>CharacterBody2D:</strong> Handles character physics and movement</li>
                <li><strong>Sprite2D:</strong> Displays your character image</li>
                <li><strong>CollisionShape2D:</strong> Defines the character's physical boundaries</li>
            </ul>
        </div>

        <div class="controls-box">
            <h3>üéπ Controls</h3>
            <ul>
                <li><strong>Arrow Keys</strong> or <strong>WASD</strong>: Move character</li>
                <li><strong>Escape</strong>: Close game</li>
            </ul>
        </div>
    </div>

    <div class="content-section">
        <h2>üèóÔ∏è Building Your Character</h2>
        
        <div class="step-by-step">
            <h3>Step 1: Scene Setup</h3>
            <ol>
                <li>Create a new scene</li>
                <li>Add <code>CharacterBody2D</code> as root node (rename to "Player")</li>
                <li>Add <code>Sprite2D</code> as child of Player</li>
                <li>Add <code>CollisionShape2D</code> as child of Player</li>
            </ol>
        </div>

        <div class="step-by-step">
            <h3>Step 2: Configure Your Character</h3>
            <ul>
                <li><strong>Sprite2D:</strong> Assign a character texture from your asset pack</li>
                <li><strong>CollisionShape2D:</strong> Create a RectangleShape2D or CapsuleShape2D</li>
                <li><strong>Resize collision:</strong> Make it fit your sprite (slightly smaller is better)</li>
                <li><strong>Center everything:</strong> Make sure sprite and collision are centered</li>
            </ul>
        </div>

        <div class="step-by-step">
            <h3>Step 3: Add Movement Script</h3>
            <ol>
                <li>Select the Player (CharacterBody2D) node</li>
                <li>Click "Attach Script" button</li>
                <li>Keep default settings and click "Create"</li>
                <li>Time to use AI for the movement code!</li>
            </ol>
        </div>
    </div>

    <div class="content-section">
        <h2>ü§ñ AI-Assisted Movement Coding</h2>
        
        <div class="ai-prompt">
            <h3>Perfect Prompt for Movement Code</h3>
            <blockquote style="background: #f8f9fa; padding: 1rem; border-left: 3px solid #6c757d; font-style: italic;">
                "I want to make a character in Godot 4 that can move around the screen when I press the WASD keys or arrow keys. When I press W or up arrow, the character should move up. When I press S or down, it moves down. A and left arrow for left, D and right arrow for right. I want smooth movement at a consistent speed. Can you show me all the code I need including how to detect key presses and move the character? Please explain what each part does."
            </blockquote>
        </div>

        <div class="ai-prompt">
            <h3>Follow-up Prompts for Enhancements</h3>
            <ul>
                <li>"How do I make the character sprite turn to face the direction they're walking?"</li>
                <li>"Can you make the movement feel more realistic by gradually speeding up and slowing down?"</li>
                <li>"How do I keep the character from walking off the edges of the screen?"</li>
                <li>"What's the difference between detecting when a key is held down versus just pressed once?"</li>
            </ul>
        </div>
    </div>

    <div class="content-section">
        <h2>‚öôÔ∏è Input Map Setup</h2>
        <p>Your AI code will reference input actions. Set these up in Godot:</p>
        <ol>
            <li>Go to <strong>Project ‚Üí Project Settings</strong></li>
            <li>Click <strong>Input Map</strong> tab</li>
            <li>Add these actions if they don't exist:
                <ul>
                    <li><code>ui_left</code> (Left Arrow, A)</li>
                    <li><code>ui_right</code> (Right Arrow, D)</li>
                    <li><code>ui_up</code> (Up Arrow, W)</li>
                    <li><code>ui_down</code> (Down Arrow, S)</li>
                </ul>
            </li>
        </ol>
    </div>

    <div class="content-section">
        <h2>üé® Customization Ideas</h2>
        <h3>Make Your Character Unique!</h3>
        <ul>
            <li><strong>Animation:</strong> Switch between different sprite frames for walking</li>
            <li><strong>Speed Boost:</strong> Hold Shift to run faster</li>
            <li><strong>Boundaries:</strong> Keep character within screen bounds</li>
            <li><strong>Trail Effect:</strong> Leave a trail behind the character</li>
            <li><strong>Rotation:</strong> Character rotates to face movement direction</li>
        </ul>

        <div class="ai-prompt">
            <h3>AI Prompt for Screen Boundaries</h3>
            <blockquote style="background: #f8f9fa; padding: 1rem; border-left: 3px solid #6c757d; font-style: italic;">
                "I want to keep my CharacterBody2D player within the screen boundaries in Godot 4. Can you show me how to use get_viewport_rect() to get the screen size and clamp the player's position so they can't move off-screen?"
            </blockquote>
        </div>
    </div>

    <div class="content-section">
        <h2>üêõ Common Problems & Solutions</h2>
        <ul>
            <li><strong>Character not moving:</strong> Check if input actions are set up correctly</li>
            <li><strong>Movement too fast/slow:</strong> Adjust the speed variable</li>
            <li><strong>Character jittery:</strong> Use <code>delta</code> in your movement calculations</li>
            <li><strong>Collision not working:</strong> Make sure CollisionShape2D has a shape assigned</li>
            <li><strong>Sprite not showing:</strong> Check if texture is assigned to Sprite2D</li>
        </ul>
    </div>

    <div class="content-section">
        <h2>‚úÖ Module 3 Checklist</h2>
        <div class="checklist">
            <h3>Before Moving to Module 4:</h3>
            <ul>
                <li>Character moves smoothly with WASD or arrow keys</li>
                <li>Sprite displays correctly with your chosen character image</li>
                <li>CollisionShape2D is properly sized and positioned</li>
                <li>Movement feels responsive and at the right speed</li>
                <li>No script errors in the output console</li>
                <li>Used AI successfully to get movement code</li>
                <li>Character stays within reasonable bounds</li>
                <li>Saved scene as "CharacterMovement.tscn"</li>
            </ul>
        </div>
    </div>

    <div class="content-section">
        <h2>üß† Key Concepts Learned</h2>
        <ul>
            <li><strong>CharacterBody2D:</strong> Best node for player-controlled characters</li>
            <li><strong>Input Handling:</strong> Reading keyboard input for game controls</li>
            <li><strong>Physics Process:</strong> Using _physics_process() for smooth movement</li>
            <li><strong>Collision Shapes:</strong> Defining physical boundaries for objects</li>
            <li><strong>Delta Time:</strong> Frame-rate independent movement</li>
        </ul>
    </div>

    <div class="next-module">
        <a href="module4.html" class="next-link">Continue to Module 4: Collision Detective ‚Üí</a>
    </div>
</body>
</html>